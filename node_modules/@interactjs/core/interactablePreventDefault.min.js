import{matchesSelector as t,nodeContains as e}from"../utils/domUtils.min.js";import n from"../utils/events.min.js";import*as i from"../utils/is.min.js";import{getWindow as r}from"../utils/window.min.js";function o(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):i.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault}function s({interaction:t,event:e}){t.interactable&&t.interactable.checkAndPreventDefault(e)}export function install(s){const{Interactable:a}=s;a.prototype.preventDefault=o,a.prototype.checkAndPreventDefault=function(e){return function(e,o,s){const a=e.options.preventDefault;if("never"!==a)if("always"!==a){if(n.supportsPassive&&/^touch(start|move)$/.test(s.type)){const t=r(s.target).document,e=o.getDocOptions(t);if(!e||!e.events||!1!==e.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(s.type)||i.element(s.target)&&t(s.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||s.preventDefault()}else s.preventDefault()}(this,s,e)},s.interactions.docEvents.push({type:"dragstart",listener(t){for(const n of s.interactions.list)if(n.element&&(n.element===t.target||e(n.element,t.target)))return void n.interactable.checkAndPreventDefault(t)}})}export default{id:"core/interactablePreventDefault",install:install,listeners:["down","move","up","cancel"].reduce((t,e)=>(t[`interactions:${e}`]=s,t),{})};
//# sourceMappingURL=interactablePreventDefault.min.js.map